<div class="login-container">
  <div class="login-box">
    <h2 class="text-center mb-4">Login</h2>

    <div *ngIf="errorMessage" class="alert alert-danger mb-3">
      {{ errorMessage }}
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group mb-3">
        <label for="username">Usuário</label>
        <div class="input-group">
          <span class="input-group-text">
            <i class="bi bi-person"></i>
          </span>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control"
            placeholder="Digite seu nome"
            [ngClass]="{'is-invalid': loginForm.get('username')?.errors && loginForm.get('username')?.touched}">
        </div>
        <div class="invalid-feedback" *ngIf="loginForm.get('username')?.errors?.['required'] && loginForm.get('username')?.touched">
          O nome de usuário é obrigatório
        </div>
      </div>

      <div class="form-group mb-4">
        <label for="password">Senha</label>
        <div class="input-group">
          <span class="input-group-text">
            <i class="bi bi-lock"></i>
          </span>
          <input
            type="password"
            id="password"
            formControlName="password"
            class="form-control"
            placeholder="Digite sua senha"
            [ngClass]="{'is-invalid': loginForm.get('password')?.errors && loginForm.get('password')?.touched}">
        </div>
        <div class="invalid-feedback" *ngIf="loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched">
          A senha é obrigatória
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100 mb-3" [disabled]="loginForm.invalid || loading">
        <span *ngIf="!loading">
          <i class="bi bi-box-arrow-in-right me-2"></i>
          Entrar
        </span>
        <span *ngIf="loading" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      </button>
    </form>
  </div>
</div>
